const EventEmitter = require('events')

class SelectContract extends EventEmitter {
  command (contractName) {
    this.api.perform((done) => {
      this.api.clickLaunchIcon('settings').clickLaunchIcon('udapp')
      this.api.setValue('#runTabView select[class^="contractNames"]', contractName)
      done()
      this.emit('complete')

      //selectContract(this.api, contractName, () => {
        //done()
        //this.emit('complete')
     // })
    })
    return this
  }
}

function selectContract (browser, contractName, callback) {
  browser.clickLaunchIcon('settings').clickLaunchIcon('udapp')
  .setValue('#runTabView select[class^="contractNames"]', contractName)
  .perform((callback) => {
    callback()
  })
}

module.exports = SelectContract
